"use strict";(self.webpackChunk_plone_volto=self.webpackChunk_plone_volto||[]).push([[8320],{"../../../node_modules/.pnpm/@datapunt+matomo-tracker-js@0.5.1/node_modules/@datapunt/matomo-tracker-js/es/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return es},types:function(){return types_namespaceObject}});var types_namespaceObject={};__webpack_require__.r(types_namespaceObject);const TRACK_TYPES_TRACK_EVENT="trackEvent",TRACK_TYPES_TRACK_LINK="trackLink",TRACK_TYPES_TRACK_SEARCH="trackSiteSearch",TRACK_TYPES_TRACK_VIEW="trackPageView",TRACK_TYPES_TRACK_ECOMMERCE_ORDER="trackEcommerceOrder",TRACK_TYPES_TRACK_ECOMMERCE_CART_UPDATE="trackEcommerceCartUpdate";var __rest=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};var es=class MatomoTracker{constructor(userOptions){if(!userOptions.urlBase)throw new Error("Matomo urlBase is required.");if(!userOptions.siteId)throw new Error("Matomo siteId is required.");this.initialize(userOptions)}initialize({urlBase:urlBase,siteId:siteId,userId:userId,trackerUrl:trackerUrl,srcUrl:srcUrl,disabled:disabled,heartBeat:heartBeat,linkTracking:linkTracking=!0,configurations:configurations={}}){var _a;const normalizedUrlBase="/"!==urlBase[urlBase.length-1]?`${urlBase}/`:urlBase;if("undefined"==typeof window)return;if(window._paq=window._paq||[],0!==window._paq.length)return;if(disabled)return;this.pushInstruction("setTrackerUrl",null!=trackerUrl?trackerUrl:`${normalizedUrlBase}matomo.php`),this.pushInstruction("setSiteId",siteId),userId&&this.pushInstruction("setUserId",userId),Object.entries(configurations).forEach(([name,instructions])=>{instructions instanceof Array?this.pushInstruction(name,...instructions):this.pushInstruction(name,instructions)}),(!heartBeat||heartBeat&&heartBeat.active)&&this.enableHeartBeatTimer(null!==(_a=heartBeat&&heartBeat.seconds)&&void 0!==_a?_a:15),this.enableLinkTracking(linkTracking);const doc=document,scriptElement=doc.createElement("script"),scripts=doc.getElementsByTagName("script")[0];scriptElement.type="text/javascript",scriptElement.async=!0,scriptElement.defer=!0,scriptElement.src=srcUrl||`${normalizedUrlBase}matomo.js`,scripts&&scripts.parentNode&&scripts.parentNode.insertBefore(scriptElement,scripts)}enableHeartBeatTimer(seconds){this.pushInstruction("enableHeartBeatTimer",seconds)}enableLinkTracking(active){this.pushInstruction("enableLinkTracking",active)}trackEventsForElements(elements){elements.length&&elements.forEach(element=>{element.addEventListener("click",()=>{const{matomoCategory:matomoCategory,matomoAction:matomoAction,matomoName:matomoName,matomoValue:matomoValue}=element.dataset;if(!matomoCategory||!matomoAction)throw new Error("Error: data-matomo-category and data-matomo-action are required.");this.trackEvent({category:matomoCategory,action:matomoAction,name:matomoName,value:Number(matomoValue)})})})}trackEvents(){const matchString='[data-matomo-event="click"]';let firstTime=!1;if(this.mutationObserver||(firstTime=!0,this.mutationObserver=new MutationObserver(mutations=>{mutations.forEach(mutation=>{mutation.addedNodes.forEach(node=>{if(!(node instanceof HTMLElement))return;node.matches(matchString)&&this.trackEventsForElements([node]);const elements=Array.from(node.querySelectorAll(matchString));this.trackEventsForElements(elements)})})})),this.mutationObserver.observe(document,{childList:!0,subtree:!0}),firstTime){const elements=Array.from(document.querySelectorAll(matchString));this.trackEventsForElements(elements)}}stopObserving(){this.mutationObserver&&this.mutationObserver.disconnect()}trackEvent(_a){var{category:category,action:action,name:name,value:value}=_a,otherParams=__rest(_a,["category","action","name","value"]);if(!category||!action)throw new Error("Error: category and action are required.");this.track(Object.assign({data:[TRACK_TYPES_TRACK_EVENT,category,action,name,value]},otherParams))}trackSiteSearch(_a){var{keyword:keyword,category:category,count:count}=_a,otherParams=__rest(_a,["keyword","category","count"]);if(!keyword)throw new Error("Error: keyword is required.");this.track(Object.assign({data:[TRACK_TYPES_TRACK_SEARCH,keyword,category,count]},otherParams))}trackLink({href:href,linkType:linkType="link"}){this.pushInstruction(TRACK_TYPES_TRACK_LINK,href,linkType)}trackPageView(params){this.track(Object.assign({data:[TRACK_TYPES_TRACK_VIEW]},params))}addEcommerceItem({sku:sku,productName:productName,productCategory:productCategory,productPrice:productPrice=0,productQuantity:productQuantity=1}){this.pushInstruction("addEcommerceItem",sku,productName,productCategory,productPrice,productQuantity)}removeEcommerceItem({sku:sku}){this.pushInstruction("removeEcommerceItem",sku)}clearEcommerceCart(){this.pushInstruction("clearEcommerceCart")}trackEcommerceOrder({orderId:orderId,orderRevenue:orderRevenue,orderSubTotal:orderSubTotal,taxAmount:taxAmount,shippingAmount:shippingAmount,discountOffered:discountOffered=!1}){this.track({data:[TRACK_TYPES_TRACK_ECOMMERCE_ORDER,orderId,orderRevenue,orderSubTotal,taxAmount,shippingAmount,discountOffered]})}trackEcommerceCartUpdate(amount){this.pushInstruction(TRACK_TYPES_TRACK_ECOMMERCE_CART_UPDATE,amount)}setEcommerceView({sku:sku,productName:productName,productCategory:productCategory,productPrice:productPrice}){this.pushInstruction("setEcommerceView",sku,productName,productCategory,productPrice)}setEcommerceCategoryView(productCategory){this.setEcommerceView({productCategory:productCategory,productName:!1,sku:!1})}track({data:data=[],documentTitle:documentTitle=window.document.title,href:href,customDimensions:customDimensions=!1}){data.length&&(customDimensions&&Array.isArray(customDimensions)&&customDimensions.length&&customDimensions.map(customDimension=>this.pushInstruction("setCustomDimension",customDimension.id,customDimension.value)),this.pushInstruction("setCustomUrl",null!=href?href:window.location.href),this.pushInstruction("setDocumentTitle",documentTitle),this.pushInstruction(...data))}pushInstruction(name,...args){return"undefined"!=typeof window&&window._paq.push([name,...args]),this}}}}]);